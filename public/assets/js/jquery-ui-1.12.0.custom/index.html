<!doctype html>
<html lang="us">
<head>
	<meta charset="utf-8">
	<title>jQuery UI Example Page</title>
	<link href="jquery-ui.css" rel="stylesheet">
	<style>
	body{
		font-family: "Trebuchet MS", sans-serif;
		margin: 50px;
	}
	.demoHeaders {
		margin-top: 2em;
	}
	#dialog-link {
		padding: .4em 1em .4em 20px;
		text-decoration: none;
		position: relative;
	}
	#dialog-link span.ui-icon {
		margin: 0 5px 0 0;
		position: absolute;
		left: .2em;
		top: 50%;
		margin-top: -8px;
	}
	#icons {
		margin: 0;
		padding: 0;
	}
	#icons li {
		margin: 2px;
		position: relative;
		padding: 4px 0;
		cursor: pointer;
		float: left;
		list-style: none;
	}
	#icons span.ui-icon {
		float: left;
		margin: 0 4px;
	}
	.fakewindowcontain .ui-widget-overlay {
		position: absolute;
	}
	select {
		width: 200px;
	}
	.u-hidden {
		display: none !important;
	}
	</style>


</head>
<body>

<h1>Welcome to jQuery UI!</h1>

<div class="ui-widget">
	<p>This page demonstrates the widgets and theme you selected in Download Builder. Please make sure you are using them with a compatible jQuery version.</p>
</div>

<h1>YOUR COMPONENTS:</h1>
















<h2 class="demoHeaders">Framework Icons (content color preview)</h2>


<!-- Datepicker -->
<h2 class="demoHeaders">Datepicker</h2>
<!-- Date: <div id="datepicker2"></div> -->
<!-- <fieldset disabled="">
<p>Date: <input type="text" id="datepicker" size="30"></p>
</fieldset> -->

<select id="select_form">
	<option value="date_deb">A partir du ...</option>
	<option value="date_fin">Jusq'au ...</option>
	<option value="date_range">Du ... Au ...</option>	
</select>

<fieldset disabled="">
<label for="from">A partir / Du</label>
<input type="text" id="from" name="from">
<label for="to">Jusqu'au / Au</label>
<input type="text" id="to" name="to">
</fieldset>
<script src="external/jquery/jquery.js"></script>
<script src="jquery-ui.js"></script>
<script type="text/javascript" src="jquery.ui.datepicker-fr.js"></script>
<script src="./../moment-with-fr.2.12.0.min.js"></script>
<script>

var type_date=["A partir du ...","Jusq'au ...","Du ... Au ..."];


var list_date = 
{
	"date": {
        "form": {
            "tag": "picker",
            "type": "text",
            "value":"current_date_fr",
            "placeholder":"",
            "comment": ""
        },
        "show_editor":true,
        "trad_editor":"Date de publication"                    
    },

    "date-promotion": {
        "form": {
            "tag": "picker",
            "type": "text",
            "value":"current_date_fr",
            "options": {
            	"date-deb" : {
            		"text": "A partir du "
            	},
            	"date-fin" : {
            		"text": "Jusq'au "

            	},
            	"date-range" : {
            		"text": "Du ... Au"

            	}
            },
            "placeholder":"",
            "comment": ""
        },
        "show_editor":true,
        "trad_editor":"Date de publication"                    
    }

};



$.datepicker.setDefaults( $.datepicker.regional.fr);
// $( "#datepicker" ).datepicker({
//   showOn: "button",
//   buttonImage: "images/calendar.gif",
//   buttonImageOnly: true,
//   buttonText: "Select. date",
//   dateFormat: "d MM yy" 
// })
// .on( "change", function() {
//  	console.log( $("#datepicker").prop('value'));
// });

$( document ).ready(function() {

	moment.locale('fr');
	var current =  moment().format('DD MMMM Y');
   
    // $("#datepicker").prop('value',current);
    $("#from").prop('value',current);

    $('#select_form').val('date_fin');
    console.log( "ready!" );
});


$('#select_form').on('change', function () {

	var t=$('#select_form option:selected').val();
	console.log(t);

	if (t==date_deb) {}

});





$( function() {
    var dateFormat = "d MM yy";

    var _from = $( "#from" ).datepicker({
	      defaultDate: "+1w",
	      changeMonth: true,
	      numberOfMonths: 1,
	      showOn: "button",
		  buttonImage: "images/calendar.gif",
		  buttonImageOnly: true,
		  buttonText: "Select. date",
		  dateFormat: "d MM yy" 
    })
    .on( "change", function() {
     	_to.datepicker( "option", "minDate", $("#from").prop('value') );
    });

    var _to = $( "#to" ).datepicker({
		defaultDate: "+1w",
		changeMonth: true,
		numberOfMonths: 1,
		showOn: "button",
		buttonImage: "images/calendar.gif",
		buttonImageOnly: true,
		buttonText: "Select. date",
		dateFormat: "d MM yy"
	})
    .on( "change", function() {
     	_from.datepicker( "option", "maxDate", $("#to").prop('value') );
     });
 
	function getDate( element ) {
		var date;
		try {
			date = $.datepicker.parseDate( dateFormat, element.value );
		} catch( error ) {
			date = null;
		}

		return date;
	}
 });

// $.datepicker.setDefaults( $.datepicker.regional.fr);
// $( "#datepicker" ).datepicker({
//   showOn: "button",
//   buttonImage: "images/calendar.gif",
//   buttonImageOnly: true,
//   buttonText: "Select. date",
//   dateFormat: "d MM yy" 
// });

// $( document ).ready(function() {

// 	moment.locale('fr');
// 	var current =  moment().format('DD MMMM Y');
   
//     $("#datepicker").prop('value',current);
//     console.log( "ready!" );
// });

</script>
</body>
</html>
